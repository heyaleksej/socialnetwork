(this.webpackJsonpsocialnetwork=this.webpackJsonpsocialnetwork||[]).push([[3],{307:function(t,e,r){"use strict";r.d(e,"a",(function(){return j}));var s=r(3),o=r(96),n=(r(0),r(9)),c=r(12),i=r(1),a=function(t){return{isAuth:t.auth.isAuth}};function j(t){return Object(c.b)(a)((function(e){var r=e.isAuth,c=Object(o.a)(e,["isAuth"]);return r?Object(i.jsx)(t,Object(s.a)({},c)):Object(i.jsx)(n.a,{to:"/login"})}))}},308:function(t,e,r){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y",contact:"ProfileInfo_contact__1N3gp",error:"ProfileInfo_error__rRsoU"}},310:function(t,e,r){t.exports={boxTextarea:"FormControl_boxTextarea__3TpRe",input:"FormControl_input__1Gy2n",textarea:"FormControl_textarea__1NuJU",formControl:"FormControl_formControl__1J9le",error:"FormControl_error__2AmGT",errorMessage:"FormControl_errorMessage__3viXV",formErrorSummary:"FormControl_formErrorSummary__1ZYjP"}},311:function(t,e,r){t.exports={item:"MyPosts_item__R6Jlo",postBlock:"MyPosts_postBlock__3b6E0",posts:"MyPosts_posts__3tZ1c"}},312:function(t,e,r){t.exports={post:"Post_post__A0EJd",item:"Post_item__ihtu9"}},314:function(t,e,r){"use strict";r.r(e);var s=r(3),o=r(33),n=r(34),c=r(36),i=r(35),a=r(0),j=r.n(a),u=r(44),l=r(96),b=r(308),d=r.n(b),p=r(37),O=r(1),h=function(t){var e=Object(a.useState)(!1),r=Object(u.a)(e,2),s=r[0],o=r[1],n=Object(a.useState)(t.status),c=Object(u.a)(n,2),i=c[0],j=c[1];Object(a.useEffect)((function(){j(t.status)}),[t.status]);return Object(O.jsxs)("div",{children:[!s&&Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:"Status"}),":",Object(O.jsx)("span",{onDoubleClick:function(){o(!0)},children:t.status||"----"})]}),s&&Object(O.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),t.updateStatusTC(i)},value:i,onChange:function(t){j(t.currentTarget.value)}})]})},f=r(107),x=r(130),m=r(310),v=r.n(m),g=r(129),_=function(t){var e=t.input,r=(t.meta,Object(l.a)(t,["input","meta"]));return Object(O.jsx)(C,Object(s.a)(Object(s.a)({},t),{},{children:Object(O.jsx)("textarea",Object(s.a)(Object(s.a)(Object(s.a)({},e),r),{},{className:v.a.textarea}))}))},P=function(t){var e=t.input,r=(t.meta,Object(l.a)(t,["input","meta"]));return Object(O.jsx)(C,Object(s.a)(Object(s.a)({},t),{},{children:Object(O.jsx)("input",Object(s.a)(Object(s.a)(Object(s.a)({},e),r),{},{className:v.a.input}))}))},C=function(t){t.input;var e=t.meta,r=e.touched,s=e.error,o=t.children,n=(Object(l.a)(t,["input","meta","children"]),r&&s);return Object(O.jsxs)("div",{className:"".concat(v.a.boxTextarea," ").concat(v.a.formControl," ").concat(n?v.a.error:""),children:[Object(O.jsx)("div",{children:o}),n&&Object(O.jsx)("p",{className:v.a.errorMessage,children:s})]})};function k(t,e,r,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(O.jsxs)("div",{children:[Object(O.jsx)(g.a,Object(s.a)({placeholder:t,name:e,validate:r,component:o},n))," ",c]})}var T=Object(x.a)({form:"edit-profile"})((function(t){var e=t.profile,r=t.handleSubmit,s=t.error;return Object(O.jsxs)("form",{onSubmit:r,children:[Object(O.jsx)("button",{children:"save"}),s&&Object(O.jsx)("div",{className:d.a.error,children:s}),Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:"fullName"}),": ",k("Full name","fullName",[],P)]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:"aboutMe"}),": ",k("\u0447\u0442\u043e \u043d\u0438\u0431\u0443\u0434\u044c","aboutMe",[],P)]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:"Looking for a job"}),":",k("da","lookingForAJob",[],P,{type:"checkbox"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:" \u0447\u0442\u043e \u043c\u043e\u0433\u0443 "}),": ",k("\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u043e \u0441\u0432\u043e\u0435\u043c \u043e\u043f\u044b\u0442\u0435","lookingForAJobDescription",[],_)]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:" Contacts "}),": ",e&&Object.keys(e.contacts).map((function(t){return Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:t}),": ",k(t,"contacts."+t,[],P)]},t)}))]})]})})),S=function(t){var e=t.contactTitle,r=t.contactValue;return Object(O.jsxs)("div",{className:d.a.contact,children:[Object(O.jsx)("b",{children:e}),":",r]})},w=function(t){var e=t.profile,r=t.isOwner,s=t.goToEditMode;return Object(O.jsxs)("div",{children:[r&&Object(O.jsx)("button",{onClick:s,children:"edit"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:"fullName"}),":",e.fullName]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:"Looking for a job"}),":",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:" \u0447\u0442\u043e \u043c\u043e\u0433\u0443 "}),": ",e.lookingForAJobDescription]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:" Contacts "}),": ",e&&Object.keys(e.contacts).map((function(t){return Object(O.jsx)(S,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})};function y(t){var e=t.profile,r=t.saveProfile,s=Object(l.a)(t,["profile","saveProfile"]),o=Object(a.useState)(!1),n=Object(u.a)(o,2),c=n[0],i=n[1];if(!e)return Object(O.jsx)(p.a,{});return Object(O.jsxs)("div",{children:[Object(O.jsx)(h,{status:s.status,updateStatusTC:s.updateStatusTC}),Object(O.jsx)("img",{src:e.photos.large||f.a}),s.isOwner&&Object(O.jsx)("input",{type:"file",onChange:function(t){t.target.files&&t.target.files.length&&s.addNewPhoto(t.target.files[0])}}),c?Object(O.jsx)(T,{initialValues:e,profile:e,onSubmit:function(t){console.log(t),r(t).then((function(){i(!1)}))}}):Object(O.jsx)(w,{profile:e,isOwner:s.isOwner,goToEditMode:function(){i(!0)}}),Object(O.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTgQyG5V9oSD7hP7SZePDYuC56TCQkLWUt6Rg&usqp=CAU"})]})}var N=r(97),A=r(311),F=r.n(A),M=r(312),J=r.n(M),I=function(t){return Object(O.jsxs)("div",{className:J.a.item,children:[Object(O.jsx)("img",{src:"https://topmsg.ru/wp-content/uploads/anonymous.jpg"}),t.message,Object(O.jsx)("div",{children:Object(O.jsxs)("span",{children:["Like",t.like]})})]})},E=r(64),D=r(65),U=Object(D.a)(10),B=Object(x.a)({form:"addForm"})((function(t){return Object(O.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{placeholder:"Enter text...",component:E.a,type:"input",name:"addForm",validate:[D.b,U]})}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{children:" Add Post"})})]})})),V=function(t){var e=t.posts.map((function(t,e){return Object(O.jsx)(I,{message:t.message,like:t.like},e)}));return Object(O.jsxs)("div",{className:F.a.postBlock,children:[Object(O.jsx)("h3",{children:" My Posts"}),Object(O.jsx)(B,{onSubmit:function(e){t.addPost(e.addForm)}}),Object(O.jsx)("div",{className:F.a.posts,children:e})]})},G=r(12),L=Object(G.b)((function(t){return{posts:t.profilePage.posts,message:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){return t(Object(N.b)(e))}}}))(V),R=function(t){return Object(O.jsxs)("div",{children:[Object(O.jsx)(y,{profile:t.profile,status:t.status,updateStatusTC:t.updateStatusTC,isOwner:t.isOwner,addNewPhoto:t.addNewPhoto,saveProfile:t.saveProfile}),Object(O.jsx)(L,{})]})},Y=r(9),Z=r(307),q=r(8),Q=function(t){Object(c.a)(r,t);var e=Object(i.a)(r);function r(){var t;Object(o.a)(this,r);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).componentDidMount=function(){t.refreshProfile()},t}return Object(n.a)(r,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authId)||this.props.history.push("./login"),this.props.getUserProfileTC(t),this.props.getStatusTC(t)}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return console.log("render profile "),Object(O.jsx)(R,Object(s.a)(Object(s.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusTC:this.props.updateStatusTC,addNewPhoto:this.props.addNewPhoto,saveProfile:this.props.saveProfile}))}}]),r}(j.a.Component);e.default=Object(q.d)(Z.a,Object(G.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText,profile:t.profilePage.profile,status:t.profilePage.status,isAuth:t.auth.isAuth,authId:t.auth.id}}),{getUserProfileTC:N.d,getStatusTC:N.c,updateStatusTC:N.g,addNewPhoto:N.a,saveProfile:N.f}),Y.f)(Q)}}]);
//# sourceMappingURL=3.ae66193f.chunk.js.map